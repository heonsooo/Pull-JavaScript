* 2023.02.13 - 패스트캠퍼스 - 김민태님 강의

모던 자바스크립트와 개발환경 

모던자바스크립트란? 
  현대적인 자바스크립트 ->  현대적이지 않은 자바스크립트? 어떻게 구분하나
  이때부터 좀 현대적인 자바스크립트구나 라고 할만한 버전이 있다.
  2015년에 릴리즈 된 ES2015 이다.
  ES2015 버전부터  현대적인, 새로운 JavaScript 버전이겠구나. 라고 느낄 수 있는 측면이 있다.
  보통. ES2015버전부터 모던 JavaSCript 라고 보통 얘기를 한다.

* 일반적으로 ES2015 버전부터 모던 자바스크립트라고 한다.
  * 

그렇다면 모던 자바스크립트, 현대적인 자바스크립트는 무엇인가? 
이전 버전은 모던하지 않은 자바스크립트인가?


ES2015 버전부터 프론트엔드 개발 환경이 급격하게 달라진건 아니다. ㅡ 

ES2015 버전이 나오기 전부터 프론트엔드의 개발 환경은 급변했다.
그 이유는 바로 Node.js 때문이다.

node.js와 npm으로 이루어진 생태계의 변화 
그리고 제공되는 도구와, 도구를 이용한 환경의 변화들 때문에 프론트엔드 개발 환경이 급변했다.

급변화는 과정에서 여러가지 제안들이 등장, 표준에 속속이 하류하면서 지금의 프론트엔드 개발 환경을 만들어왔다.
그 과정이 대략 10년 정도에 걸쳐서 이루어졌다. 
굉장히 스펙타클한 변화들이 그 안에 포함되어 있다.

핵심정으로 어떤 요소들이 주된 요소로 작용했는지를 모르면, 막연히 프론트엔드 개발 환경에 대해서 복잡하고 배워야할게 많다고 부정적으로 생각할 수 있다.
그렇게 모르고 스트레스 받는 것보다는, 핵심적이고 왜 이렇게 되어야만 하는지에 대한 부분들을 알게 된다면,
복잡한 프로젝트 세팅과 환경설정에 있어 스트레스를 좀 덜 받지 않을까하느 ㄴ생각이 있다.

왜 이렇게 되어야만 하는지에 대한 부분들을 이해하고 있다고 하면,
복잡한 프로젝트 세팅과 환경 설정, 이런 부분들에 있어서 스트레스를 좀 덜 받을 수 있지 않을까 라는 생각에 
프론트엔드 개발환경이 왜 이렇게 복잡하고 복잡해질수밖에 없는지 앞으로도 계쏙 이런 복잡한 상태를 지속적으로 유지하게 될 건지, 그것과 관련된 인사이트.
  -> 

  현재 프론트엔드 개발환경이 굉장히 복잡하다.
    복잡한 이유는 여러가지다.
    아주 핵심적인 원인은 이것. **웹앱의 규모가 굉장히 커지고 복잡해졌다.**
      웹 어플리케이션의 규모라고 하면, 말도 안되게 커지고 있다.  
      규모카 큰 프론트엔드 웹앱의 경우에는 수십만, 수백만 라인 그 이상이 될 수도 있다.
      코드의 규모도 크지만, 그 코드가 하나의 파일에 다 들어가 있을 수 없다.
      따라서 하나의 파일로 개발할 수 없기 때문에 수십 수백, 수천, 수만개의 파일이 단 하나의 애플리케이션을 위한 파일들이 된다.
    ----------------
    이것이 프론트엔드 개발에 있어 프로젝트의 구성을 복잡하게 하는 원인이 됐다는건 무슨 뜻일까?
      JavScript는 브라우저 안에서 HTML을 조작하기 위한 정도의 **가벼운 역할로 시작된 언어**였다.
      언어의 디자인 자체가 아주 간단한 일을 하기 위해서 만들어진 프로그래밍 언어였다.
      언어의 디자인 자체가 작다 보니, 실제로 수마 개의 소스코드를 가지고 하나의 어플리케이션을 만들기 위한 **필요한 여러가지 기능이 하나도 준비되어 있지 않았다.**
      그것은 바로 **모듈** 이라는 스펙 이다.
      (모듈 : 파일과 파일 간에 특정 파일의 어떤 기능을 사용하기 위해서 불러들여 쓸 수 있는 기능 : import , export)
      자바스크립트는 그 모듈이라는 스펙이 없었고, 
      **그리고 ES2015 부터 모듈 스펙을 지원하게 되었다.**
```      

[중간 정리]
프론트엔드 개발환경이 복잡하다.
그 이유는 웹앱의 규모가 커지고 있어서이다.
  웹앱의 규모가 커진다 = 수천, 수만개의 파일 속 수십 ,수백만의 코드 라인이 있다.
이러한 여러 파일을 관리하는 것을 모듈이라고 하는데,
자바스크립트는 첫 출발이 브라우저 안에서 간단한 html 조작을 위해 시작되었기 때문에
모듈이라는 스펙이 준비되어 있지 않았다.
그리고 **ES2015부터 모듈 스펙을 지원**하게 되었다.
```
그렇다면 이 모듈이 왜 프론트엔드 개발을 복잡하게 만드는 원인으로 작용하게 되었을까?
자바스크립트가 실행되는 방식은 HTML안에 반드시 스크립트 태그를 이용해서 자바스크립트 코드의 위치를 지정하게 되어있다.
그리고 그 스크립트태그가 바로 javaScript 파일을 로딩하고 불러들이는 역할을 하는 태그이다.
이거는 지금도 편함이 없다.
문제는 스크립트 파일이 10개 있다면, 스크립트 태그를 10개 지정해줘야 한다.
문제는 파일들이 여러, 수 백개가 되면, 수십, 수백개의 스크립트 태그를 각각 작성해야 하게 된다.

모듈은 html에서 자바스크립트를 부르는게 아니라 A js파일에서 B js파일 부르고 B js 파일에서 C js 파일 부르는 것이다.
html에서 스크립트 태그로 부르는게 아닌 javaScript 파일의 코드 안에서 다른 JavaSCript 파일을 불러 쓸 수 있는 import, export 문법이 생겼다.
이 문법을 그대로 사용하기 어려운 현실적인 문제가 존재한다.
  1. 브라우저 호환성 이슈
     1. 새로운 기술들을 적용하게 될 때 먼저 머릿속에 떠오르는 것이 브라우저 호환성이라고 하는 측면이다.
     2. 사용자가 어떤 브라우저의 어떤 버전을 사용하도록 할 지는 강제하기가 어렵다. (사람들이 안쓰니까)
     3. 웹 프론트엔드 개발자들은 브라우저 호환성을 최대한 넓게 가져가는 것을 중요하게 생각한다.
     4. ES2015 지금은 많은 브라우저가 지원하지만, 여전히 지원하지 않는 브라우저가 존재한다. (IE) 1. 
  2. 개발자들은 최신 문법을 사용하고 싶어 한다.
     1. import, export만이 최신 문법이 아니다.
     2. 자바스크립트는 ES2015 부터 매년 새로운 최신 문법들이 나오고 있다. (2016,2017,2018)
     3. 개발자들은 최신 문법을 사용해서 개발을하면, 재미도 있고 효율, 생산성을 높일 수 있다.
     4. 따라서 최신 문법을 사용하여 개발하고 싶은데, 거기서도 브라우저 호환성 문제가 또 발생한다. 
     5. ES2015도 문제가 많은데 2016,, 2017, 2018도 여전히 문제가 많은 이슈가 있다.
  그러면 자바스크립트가 브라우저 호환성 이슈로 인해 계속해서 최신 문법, 개선된 사항이 나오는게 무슨 의미가 있는가 싶을 수 도 있다. 
  이러한 문제들을 해결하기 위해서 **엔지니어링**이 시도된다.

  바로 node.js가 나온 것이다. 
  **node.js는 자바스크립트를 브라우저에서 실행되는게 아니라 일반 데스크톱, pc 서버에서 실행되게 해주는 애플리케이션이다.**
  --> 브라우저 호환성 이슈ㅜ를 해결??

  그래서 자바스크립트 개발자들이 JS를 가지고 PC에서도 사용하능하기 때문에 굉장히 다양한 도구를 만들기 시작했다. 
  그렇게 만들어진 무수히 많은 도구를 다른 개발자들에게 알리고 배포하기가 훨씬 쉬워졌다.

  npm이라는게 생겼기 때문이다.
  npm을 통해서 내가 만든 애플리케이션을 등록해 놓으면 다른 개발자들이 npm을 통해서 검색해보고 이거 쓸만학ㅆ는데? 하고 
  npm 설치해서 자신의 프로젝트에 불러다가 쓰기가 굉장히 손쉬워졌기 때문이다.
   
이러한 상황에서 어떤 도구가 나왔는가? 하면 **번들러**라고 하는 소프트웨어가 세상에 나오게 된다.
번들러가 하는 일은 굉장히 간단한 일을 한다.
  기본적으로 시작되는 JavaScript 파일 하나를 지정하면 모듈 스펙을 이용해서 그 JavaScript 파일 안에서 다른 JavaSCript 파일을 부를 수 있다.
  그렇게 JavaScript파일 안에서 다른 JavaScript파일을 부르는 것들을 JavaScript코드를 구문 해석해서 **하나의 파일로 만들어 주는 것**이 **번들러**이다.

  브라우저에서 로딩하기 전에 미리 브라우저에서 실제로 JavaScript 파일을 불러들이기 전에 미리 그 많은 파일을 몇 개가 됐든 하나의 파일로 만들어 놓으면 어떤일이 발생할까요? 
  HTML내에서는 그 하나 만들어진 파일만 스크립트 태그에 연결해 놓으면, 모든게 해결이 된다.
  번들러 라고 하는 소프트웨어가 하나의 파일로 만들어 놨기 때문에 가능한 일이다.

  이렇게 되니까 모든 문제가 해결이 된다.
  물런 그런 번들링에서 오는 문제점이 있다.  (지금 설명하기에는 부적절하니 패스)

  **여러개의 파일들을 가지고 하나의 파일로 만드는 도구가 번들러이다.**
  번들링이라는 방식으로 모듈을 부르는 스펙을 못쓰던 상황들에서 이제 모듈을 사용할 수 있게 되었다.  
  더불어 많은 소스 코드를 가지고 프로젝트를 만든다 하더라도 **하나로 합칠** 방법이 있으니까  HTML을    운영하기도 훨씬 더 현실적으로 가능해졌다고 하는 점이 가장 핵심적인 측면이다.

  번들러는 여러 가지 실제 도구가 존재한다.
    가장 실무적으로 쓰이는 도구는 Webpack 이라는 번들러이다.(https://webpack.kr/)

JavaScript 파일을 합치는 중에 필요없는 소스 코드를 제거하면 어떨까? 
필요없는 소스 코드는 뭐가 있을까? -> 주석(보안, 용량 줄임), 
필요 없는 소스 코드 제거하면 뭐가 좋을까? :  용량이 줄어든다 -> 비용(돈)이 줄어든다. : 트래픽이 많을 수록, 사용자한테 전달되는 파일이 작을수록  네트워크 비용, 클라우드 비용을 더 많이 줄일 수 있다.
따라서 JavaScript 파일을 합치는 과정에서 불필요한 주석, 불필요한 코드를 제거하는 로직도 넣으면 좋겠다느 ㄴ생각을 했다.
추가적으로 이미지 파일의 경로 (이미지 최적화), 소스코드 어글리파이 등의 기능도 있다.

이런식으로 JavaSCript파일을 읽어 들여서 OutPut을 내는 행위 안에서 할 수 있는 많은 일들을 꼐속 넣다 보니까 
굉장히 여러 가지 작업들이 유용하게 만들어졌다. 

그런 많은 일련의 작업들을 실제로 번들러들이 손쉽게 처리할 수 있게끔 다양한 기능들을 제공한다.
기능 자체를 다양하게 제공하다보니, 당연히 사용 방법, 세팅 방법도 점점 점점 복잡해졌다.
왜냐하면, 프론트엔드 프로젝트마다 어떤 기능은쓰고 어떤 기능은 쓰지 않을 수도 있기 때문이다. 
그러다 보니 번들러가 점점 복잡해지고 세팅도 어려워졌다.
또한 중요한 기능 하나는 **트랜스파일링**이다.

트랜스 파일ㅇ링
개발 코드는 컴퓨터가 실행하게 되지만, 프로그래밍 언어는 이해하지 못한다. javaScript, C, Java 이런 언어들은 컴퓨터가 이해할 수 있는 언어가 아니다.
인간이 이해할 수 있는 언어로 작성된 프로그램 코드를 기계가 읽고 실행시킬 수 있는 형식으로 바꾸는 것. 기계어로 바꾸는 작업이 필요하다.
인간이 이해할 수 있는 언어를 프로그래밍언어로 바꾸는 과정이 필요하다.
브라우저가 이해할 수 있는 언어는 JavaScript 밖에 없다. 그런데 다른 언어로 웹앱 개발을 하고 싶은 경우에 어떡할까?
내가 원하는 언어를 만들어서 그 언어를 JavaSCript로 변환시키면 되는데.. 라는 생각을하게 됐다.
기계가 이해하는 언어는 하나밖에 없고 인간이 개발하는 언어는 C, Java, Python, JavaScript등이 있으니 내가 원하는 언어로 프로그램을 만들고 그걸 기계어로 변환하면 된다.

내가 원하는 언어로 프로그램을 만들고 그걸 기계어로 변환하면 된다. 이러한 변환기를 트랜스 파일러라고 한다.

개발자들은 JavaScript의 최신 스펙으로 개발을 하고 싶고, 하지만 브라우저의 호환성 때문에 그걸 다 쓸 수 없는 문제가 발생했었다.
이걸 트랜스 파일러를 이용하면 해결할 수 있겠다 라고 생각을 하게 됐다.
최신 문법의 JavaScript, 과거 문법의 JavaScript 이 두 언어는 둘 다 JavaScript지만, 브라우저 입장에서는 지원하지 않는 다른 언어 일 수도 있다.
최신 문법의 JavaScript를 낮은 문법의 JavaScript로 변환할 수 있는 변환기가 있다면, 
개발자들은 자기가 원하는 문법으로 개발을 하고 안정적인 버전으로 서비스를 할 수 있게 되는 길이 열리는 것이다.

그래서 이게 가능한 트랜스 파일러를 만들었고 이 트랜스 파일러가 바로 Babe이라고 하는 트랜스 파일러이다.
번들러가 여러 개의 JavaScript파일을 하나의 파일로 만드는 과정에 이 트랜스 파일러를 끼워 넣어서 코드 압축을 하거나 난독화를 하듯이 최신 버전의 문법을 하위 버전의 문법으로 바꾸는 일들 하게 된다. 아주 자연스럽게.
실제 번들러가 하는 역할 중에 요즘 가장 중요한 것중에 하나는 트랜스 파일러가 중간에 끼어있는 것이다.

이러한 예시로 TypeScript이다.
TypeSCript도 실제 JavaSCript가 아니다. 
그러니 당연히 브라우저에서도 실행될 수 없다.
그렇다고하면 어떻게 될까라고 하면 TypeScript가 제공하는 트랜스 파일러를 이용해서 바로 원하는 JavaSCript 버전으로 바꿀 수 있는 트랜스 파일링 동작이 일어난다.
TypeScript도 트랜스 파일러의 한 종류라고 할 수 있다.

번들링, 트랜스 파일링이라고 하는 것에서 시작된 변환기, 변환할 수 있는 프로세스가 생기면서 JavaScript의 한계를 여러가지 아이디어를 가지고 웹 프로그래밍을 하는데 있어서 다양하게 활용될 수 있다는 것 재밌는 혀상이 되었다.

규모가 큰 어플리케이션을 개발하는 일은 보통 쉬운일이 아니기 때문에 굉장히 다양한 엔지니어링이 필요하고 그 엔지니어링이 필요한 측면에서  여러가지 이렇게 다양한 도구들이 등장하는 것은 반가운 일이다.





   




   

    

따라서 javaScript에서 다른 javascript를 모두 불러와서 html에서는 하나의 자바스크립트를 부르면 되게 된다.
